// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
'use strict';

var __decorate = void 0 && (void 0).__decorate || function (decorators, target, key, desc) {
  var c = arguments.length,
      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
      d;
  if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
  return c > 3 && r && Object.defineProperty(target, key, r), r;
};

Object.defineProperty(exports, "__esModule", {
  value: true
});

const inversify_1 = require("inversify");

const TypeMoq = require("typemoq");

let MockProcess = class MockProcess {
  constructor(env = Object.assign({}, process.env)) {
    this.env = env;
  }

  on(event, listener) {
    return this;
  }

  get argv() {
    return [];
  }

  get stdout() {
    return TypeMoq.Mock.ofType().object;
  }

  get stdin() {
    return TypeMoq.Mock.ofType().object;
  }

  get execPath() {
    return '';
  }

};
MockProcess = __decorate([inversify_1.injectable()], MockProcess);
exports.MockProcess = MockProcess;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2Nlc3MuanMiXSwibmFtZXMiOlsiX19kZWNvcmF0ZSIsImRlY29yYXRvcnMiLCJ0YXJnZXQiLCJrZXkiLCJkZXNjIiwiYyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInIiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJkIiwiUmVmbGVjdCIsImRlY29yYXRlIiwiaSIsImRlZmluZVByb3BlcnR5IiwiZXhwb3J0cyIsInZhbHVlIiwiaW52ZXJzaWZ5XzEiLCJyZXF1aXJlIiwiVHlwZU1vcSIsIk1vY2tQcm9jZXNzIiwiY29uc3RydWN0b3IiLCJlbnYiLCJhc3NpZ24iLCJwcm9jZXNzIiwib24iLCJldmVudCIsImxpc3RlbmVyIiwiYXJndiIsInN0ZG91dCIsIk1vY2siLCJvZlR5cGUiLCJvYmplY3QiLCJzdGRpbiIsImV4ZWNQYXRoIiwiaW5qZWN0YWJsZSJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBOztBQUNBLElBQUlBLFVBQVUsR0FBSSxVQUFRLFNBQUtBLFVBQWQsSUFBNkIsVUFBVUMsVUFBVixFQUFzQkMsTUFBdEIsRUFBOEJDLEdBQTlCLEVBQW1DQyxJQUFuQyxFQUF5QztBQUNuRixNQUFJQyxDQUFDLEdBQUdDLFNBQVMsQ0FBQ0MsTUFBbEI7QUFBQSxNQUEwQkMsQ0FBQyxHQUFHSCxDQUFDLEdBQUcsQ0FBSixHQUFRSCxNQUFSLEdBQWlCRSxJQUFJLEtBQUssSUFBVCxHQUFnQkEsSUFBSSxHQUFHSyxNQUFNLENBQUNDLHdCQUFQLENBQWdDUixNQUFoQyxFQUF3Q0MsR0FBeEMsQ0FBdkIsR0FBc0VDLElBQXJIO0FBQUEsTUFBMkhPLENBQTNIO0FBQ0EsTUFBSSxPQUFPQyxPQUFQLEtBQW1CLFFBQW5CLElBQStCLE9BQU9BLE9BQU8sQ0FBQ0MsUUFBZixLQUE0QixVQUEvRCxFQUEyRUwsQ0FBQyxHQUFHSSxPQUFPLENBQUNDLFFBQVIsQ0FBaUJaLFVBQWpCLEVBQTZCQyxNQUE3QixFQUFxQ0MsR0FBckMsRUFBMENDLElBQTFDLENBQUosQ0FBM0UsS0FDSyxLQUFLLElBQUlVLENBQUMsR0FBR2IsVUFBVSxDQUFDTSxNQUFYLEdBQW9CLENBQWpDLEVBQW9DTyxDQUFDLElBQUksQ0FBekMsRUFBNENBLENBQUMsRUFBN0MsRUFBaUQsSUFBSUgsQ0FBQyxHQUFHVixVQUFVLENBQUNhLENBQUQsQ0FBbEIsRUFBdUJOLENBQUMsR0FBRyxDQUFDSCxDQUFDLEdBQUcsQ0FBSixHQUFRTSxDQUFDLENBQUNILENBQUQsQ0FBVCxHQUFlSCxDQUFDLEdBQUcsQ0FBSixHQUFRTSxDQUFDLENBQUNULE1BQUQsRUFBU0MsR0FBVCxFQUFjSyxDQUFkLENBQVQsR0FBNEJHLENBQUMsQ0FBQ1QsTUFBRCxFQUFTQyxHQUFULENBQTdDLEtBQStESyxDQUFuRTtBQUM3RSxTQUFPSCxDQUFDLEdBQUcsQ0FBSixJQUFTRyxDQUFULElBQWNDLE1BQU0sQ0FBQ00sY0FBUCxDQUFzQmIsTUFBdEIsRUFBOEJDLEdBQTlCLEVBQW1DSyxDQUFuQyxDQUFkLEVBQXFEQSxDQUE1RDtBQUNILENBTEQ7O0FBTUFDLE1BQU0sQ0FBQ00sY0FBUCxDQUFzQkMsT0FBdEIsRUFBK0IsWUFBL0IsRUFBNkM7QUFBRUMsRUFBQUEsS0FBSyxFQUFFO0FBQVQsQ0FBN0M7O0FBQ0EsTUFBTUMsV0FBVyxHQUFHQyxPQUFPLENBQUMsV0FBRCxDQUEzQjs7QUFDQSxNQUFNQyxPQUFPLEdBQUdELE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLElBQUlFLFdBQVcsR0FBRyxNQUFNQSxXQUFOLENBQWtCO0FBQ2hDQyxFQUFBQSxXQUFXLENBQUNDLEdBQUcsR0FBR2QsTUFBTSxDQUFDZSxNQUFQLENBQWMsRUFBZCxFQUFrQkMsT0FBTyxDQUFDRixHQUExQixDQUFQLEVBQXVDO0FBQzlDLFNBQUtBLEdBQUwsR0FBV0EsR0FBWDtBQUNIOztBQUNERyxFQUFBQSxFQUFFLENBQUNDLEtBQUQsRUFBUUMsUUFBUixFQUFrQjtBQUNoQixXQUFPLElBQVA7QUFDSDs7QUFDTyxNQUFKQyxJQUFJLEdBQUc7QUFDUCxXQUFPLEVBQVA7QUFDSDs7QUFDUyxNQUFOQyxNQUFNLEdBQUc7QUFDVCxXQUFPVixPQUFPLENBQUNXLElBQVIsQ0FBYUMsTUFBYixHQUFzQkMsTUFBN0I7QUFDSDs7QUFDUSxNQUFMQyxLQUFLLEdBQUc7QUFDUixXQUFPZCxPQUFPLENBQUNXLElBQVIsQ0FBYUMsTUFBYixHQUFzQkMsTUFBN0I7QUFDSDs7QUFDVyxNQUFSRSxRQUFRLEdBQUc7QUFDWCxXQUFPLEVBQVA7QUFDSDs7QUFsQitCLENBQXBDO0FBb0JBZCxXQUFXLEdBQUdyQixVQUFVLENBQUMsQ0FDckJrQixXQUFXLENBQUNrQixVQUFaLEVBRHFCLENBQUQsRUFFckJmLFdBRnFCLENBQXhCO0FBR0FMLE9BQU8sQ0FBQ0ssV0FBUixHQUFzQkEsV0FBdEIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbid1c2Ugc3RyaWN0JztcbnZhciBfX2RlY29yYXRlID0gKHRoaXMgJiYgdGhpcy5fX2RlY29yYXRlKSB8fCBmdW5jdGlvbiAoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGludmVyc2lmeV8xID0gcmVxdWlyZShcImludmVyc2lmeVwiKTtcbmNvbnN0IFR5cGVNb3EgPSByZXF1aXJlKFwidHlwZW1vcVwiKTtcbmxldCBNb2NrUHJvY2VzcyA9IGNsYXNzIE1vY2tQcm9jZXNzIHtcbiAgICBjb25zdHJ1Y3RvcihlbnYgPSBPYmplY3QuYXNzaWduKHt9LCBwcm9jZXNzLmVudikpIHtcbiAgICAgICAgdGhpcy5lbnYgPSBlbnY7XG4gICAgfVxuICAgIG9uKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0IGFyZ3YoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgZ2V0IHN0ZG91dCgpIHtcbiAgICAgICAgcmV0dXJuIFR5cGVNb3EuTW9jay5vZlR5cGUoKS5vYmplY3Q7XG4gICAgfVxuICAgIGdldCBzdGRpbigpIHtcbiAgICAgICAgcmV0dXJuIFR5cGVNb3EuTW9jay5vZlR5cGUoKS5vYmplY3Q7XG4gICAgfVxuICAgIGdldCBleGVjUGF0aCgpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbn07XG5Nb2NrUHJvY2VzcyA9IF9fZGVjb3JhdGUoW1xuICAgIGludmVyc2lmeV8xLmluamVjdGFibGUoKVxuXSwgTW9ja1Byb2Nlc3MpO1xuZXhwb3J0cy5Nb2NrUHJvY2VzcyA9IE1vY2tQcm9jZXNzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvY2Vzcy5qcy5tYXAiXX0=