// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

const fileSystem_1 = require("./fileSystem");

const platformService_1 = require("./platformService");

const registry_1 = require("./registry");

const types_1 = require("./types");

function registerTypes(serviceManager) {
  serviceManager.addSingleton(types_1.IPlatformService, platformService_1.PlatformService);
  serviceManager.addSingleton(types_1.IFileSystem, fileSystem_1.FileSystem);

  if (serviceManager.get(types_1.IPlatformService).isWindows) {
    serviceManager.addSingleton(types_1.IRegistry, registry_1.RegistryImplementation);
  }
}

exports.registerTypes = registerTypes;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VSZWdpc3RyeS5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsImZpbGVTeXN0ZW1fMSIsInJlcXVpcmUiLCJwbGF0Zm9ybVNlcnZpY2VfMSIsInJlZ2lzdHJ5XzEiLCJ0eXBlc18xIiwicmVnaXN0ZXJUeXBlcyIsInNlcnZpY2VNYW5hZ2VyIiwiYWRkU2luZ2xldG9uIiwiSVBsYXRmb3JtU2VydmljZSIsIlBsYXRmb3JtU2VydmljZSIsIklGaWxlU3lzdGVtIiwiRmlsZVN5c3RlbSIsImdldCIsImlzV2luZG93cyIsIklSZWdpc3RyeSIsIlJlZ2lzdHJ5SW1wbGVtZW50YXRpb24iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFDQUEsTUFBTSxDQUFDQyxjQUFQLENBQXNCQyxPQUF0QixFQUErQixZQUEvQixFQUE2QztBQUFFQyxFQUFBQSxLQUFLLEVBQUU7QUFBVCxDQUE3Qzs7QUFDQSxNQUFNQyxZQUFZLEdBQUdDLE9BQU8sQ0FBQyxjQUFELENBQTVCOztBQUNBLE1BQU1DLGlCQUFpQixHQUFHRCxPQUFPLENBQUMsbUJBQUQsQ0FBakM7O0FBQ0EsTUFBTUUsVUFBVSxHQUFHRixPQUFPLENBQUMsWUFBRCxDQUExQjs7QUFDQSxNQUFNRyxPQUFPLEdBQUdILE9BQU8sQ0FBQyxTQUFELENBQXZCOztBQUNBLFNBQVNJLGFBQVQsQ0FBdUJDLGNBQXZCLEVBQXVDO0FBQ25DQSxFQUFBQSxjQUFjLENBQUNDLFlBQWYsQ0FBNEJILE9BQU8sQ0FBQ0ksZ0JBQXBDLEVBQXNETixpQkFBaUIsQ0FBQ08sZUFBeEU7QUFDQUgsRUFBQUEsY0FBYyxDQUFDQyxZQUFmLENBQTRCSCxPQUFPLENBQUNNLFdBQXBDLEVBQWlEVixZQUFZLENBQUNXLFVBQTlEOztBQUNBLE1BQUlMLGNBQWMsQ0FBQ00sR0FBZixDQUFtQlIsT0FBTyxDQUFDSSxnQkFBM0IsRUFBNkNLLFNBQWpELEVBQTREO0FBQ3hEUCxJQUFBQSxjQUFjLENBQUNDLFlBQWYsQ0FBNEJILE9BQU8sQ0FBQ1UsU0FBcEMsRUFBK0NYLFVBQVUsQ0FBQ1ksc0JBQTFEO0FBQ0g7QUFDSjs7QUFDRGpCLE9BQU8sQ0FBQ08sYUFBUixHQUF3QkEsYUFBeEIiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbid1c2Ugc3RyaWN0Jztcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGZpbGVTeXN0ZW1fMSA9IHJlcXVpcmUoXCIuL2ZpbGVTeXN0ZW1cIik7XG5jb25zdCBwbGF0Zm9ybVNlcnZpY2VfMSA9IHJlcXVpcmUoXCIuL3BsYXRmb3JtU2VydmljZVwiKTtcbmNvbnN0IHJlZ2lzdHJ5XzEgPSByZXF1aXJlKFwiLi9yZWdpc3RyeVwiKTtcbmNvbnN0IHR5cGVzXzEgPSByZXF1aXJlKFwiLi90eXBlc1wiKTtcbmZ1bmN0aW9uIHJlZ2lzdGVyVHlwZXMoc2VydmljZU1hbmFnZXIpIHtcbiAgICBzZXJ2aWNlTWFuYWdlci5hZGRTaW5nbGV0b24odHlwZXNfMS5JUGxhdGZvcm1TZXJ2aWNlLCBwbGF0Zm9ybVNlcnZpY2VfMS5QbGF0Zm9ybVNlcnZpY2UpO1xuICAgIHNlcnZpY2VNYW5hZ2VyLmFkZFNpbmdsZXRvbih0eXBlc18xLklGaWxlU3lzdGVtLCBmaWxlU3lzdGVtXzEuRmlsZVN5c3RlbSk7XG4gICAgaWYgKHNlcnZpY2VNYW5hZ2VyLmdldCh0eXBlc18xLklQbGF0Zm9ybVNlcnZpY2UpLmlzV2luZG93cykge1xuICAgICAgICBzZXJ2aWNlTWFuYWdlci5hZGRTaW5nbGV0b24odHlwZXNfMS5JUmVnaXN0cnksIHJlZ2lzdHJ5XzEuUmVnaXN0cnlJbXBsZW1lbnRhdGlvbik7XG4gICAgfVxufVxuZXhwb3J0cy5yZWdpc3RlclR5cGVzID0gcmVnaXN0ZXJUeXBlcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNlcnZpY2VSZWdpc3RyeS5qcy5tYXAiXX0=