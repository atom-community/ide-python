"use strict"; // Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.

Object.defineProperty(exports, "__esModule", {
  value: true
});

const types_1 = require("../common/types");

const interpreterComparer_1 = require("./configuration/interpreterComparer");

const interpreterSelector_1 = require("./configuration/interpreterSelector");

const pythonPathUpdaterService_1 = require("./configuration/pythonPathUpdaterService");

const pythonPathUpdaterServiceFactory_1 = require("./configuration/pythonPathUpdaterServiceFactory");

const types_2 = require("./configuration/types");

const contracts_1 = require("./contracts");

const display_1 = require("./display");

const progressDisplay_1 = require("./display/progressDisplay");

const shebangCodeLensProvider_1 = require("./display/shebangCodeLensProvider");

const helpers_1 = require("./helpers");

const interpreterService_1 = require("./interpreterService");

const interpreterVersion_1 = require("./interpreterVersion");

const helpers_2 = require("./locators/helpers");

const index_1 = require("./locators/index");

const progressService_1 = require("./locators/progressService");

const condaEnvFileService_1 = require("./locators/services/condaEnvFileService");

const condaEnvService_1 = require("./locators/services/condaEnvService");

const condaService_1 = require("./locators/services/condaService");

const currentPathService_1 = require("./locators/services/currentPathService");

const globalVirtualEnvService_1 = require("./locators/services/globalVirtualEnvService");

const interpreterWatcherBuilder_1 = require("./locators/services/interpreterWatcherBuilder");

const KnownPathsService_1 = require("./locators/services/KnownPathsService");

const pipEnvService_1 = require("./locators/services/pipEnvService");

const windowsRegistryService_1 = require("./locators/services/windowsRegistryService");

const workspaceVirtualEnvService_1 = require("./locators/services/workspaceVirtualEnvService");

const workspaceVirtualEnvWatcherService_1 = require("./locators/services/workspaceVirtualEnvWatcherService");

const index_2 = require("./virtualEnvs/index");

const types_3 = require("./virtualEnvs/types");

function registerTypes(serviceManager) {
  serviceManager.addSingleton(contracts_1.IKnownSearchPathsForInterpreters, KnownPathsService_1.KnownSearchPathsForInterpreters);
  serviceManager.addSingleton(contracts_1.IVirtualEnvironmentsSearchPathProvider, globalVirtualEnvService_1.GlobalVirtualEnvironmentsSearchPathProvider, 'global');
  serviceManager.addSingleton(contracts_1.IVirtualEnvironmentsSearchPathProvider, workspaceVirtualEnvService_1.WorkspaceVirtualEnvironmentsSearchPathProvider, 'workspace');
  serviceManager.addSingleton(contracts_1.ICondaService, condaService_1.CondaService);
  serviceManager.addSingleton(types_3.IVirtualEnvironmentManager, index_2.VirtualEnvironmentManager);
  serviceManager.add(contracts_1.IInterpreterWatcher, workspaceVirtualEnvWatcherService_1.WorkspaceVirtualEnvWatcherService, contracts_1.WORKSPACE_VIRTUAL_ENV_SERVICE);
  serviceManager.addSingleton(contracts_1.IInterpreterWatcherBuilder, interpreterWatcherBuilder_1.InterpreterWatcherBuilder);
  serviceManager.addSingleton(contracts_1.IInterpreterVersionService, interpreterVersion_1.InterpreterVersionService);
  serviceManager.addSingleton(contracts_1.IInterpreterLocatorService, index_1.PythonInterpreterLocatorService, contracts_1.INTERPRETER_LOCATOR_SERVICE);
  serviceManager.addSingleton(contracts_1.IInterpreterLocatorService, condaEnvFileService_1.CondaEnvFileService, contracts_1.CONDA_ENV_FILE_SERVICE);
  serviceManager.addSingleton(contracts_1.IInterpreterLocatorService, condaEnvService_1.CondaEnvService, contracts_1.CONDA_ENV_SERVICE);
  serviceManager.addSingleton(contracts_1.IInterpreterLocatorService, currentPathService_1.CurrentPathService, contracts_1.CURRENT_PATH_SERVICE);
  serviceManager.addSingleton(contracts_1.IInterpreterLocatorService, globalVirtualEnvService_1.GlobalVirtualEnvService, contracts_1.GLOBAL_VIRTUAL_ENV_SERVICE);
  serviceManager.addSingleton(contracts_1.IInterpreterLocatorService, workspaceVirtualEnvService_1.WorkspaceVirtualEnvService, contracts_1.WORKSPACE_VIRTUAL_ENV_SERVICE);
  serviceManager.addSingleton(contracts_1.IInterpreterLocatorService, pipEnvService_1.PipEnvService, contracts_1.PIPENV_SERVICE);
  serviceManager.addSingleton(contracts_1.IPipEnvService, pipEnvService_1.PipEnvService);
  const isWindows = serviceManager.get(types_1.IsWindows);

  if (isWindows) {
    serviceManager.addSingleton(contracts_1.IInterpreterLocatorService, windowsRegistryService_1.WindowsRegistryService, contracts_1.WINDOWS_REGISTRY_SERVICE);
  }

  serviceManager.addSingleton(contracts_1.IInterpreterLocatorService, KnownPathsService_1.KnownPathsService, contracts_1.KNOWN_PATH_SERVICE);
  serviceManager.addSingleton(contracts_1.IInterpreterService, interpreterService_1.InterpreterService);
  serviceManager.addSingleton(contracts_1.IInterpreterDisplay, display_1.InterpreterDisplay);
  serviceManager.addSingleton(types_2.IPythonPathUpdaterServiceFactory, pythonPathUpdaterServiceFactory_1.PythonPathUpdaterServiceFactory);
  serviceManager.addSingleton(types_2.IPythonPathUpdaterServiceManager, pythonPathUpdaterService_1.PythonPathUpdaterService);
  serviceManager.addSingleton(types_2.IInterpreterSelector, interpreterSelector_1.InterpreterSelector);
  serviceManager.addSingleton(contracts_1.IShebangCodeLensProvider, shebangCodeLensProvider_1.ShebangCodeLensProvider);
  serviceManager.addSingleton(contracts_1.IInterpreterHelper, helpers_1.InterpreterHelper);
  serviceManager.addSingleton(contracts_1.IInterpreterLocatorHelper, helpers_2.InterpreterLocatorHelper);
  serviceManager.addSingleton(types_2.IInterpreterComparer, interpreterComparer_1.InterpreterComparer);
  serviceManager.addSingleton(contracts_1.InterpreterLocatorProgressHandler, progressDisplay_1.InterpreterLocatorProgressStatubarHandler);
  serviceManager.addSingleton(contracts_1.IInterpreterLocatorProgressService, progressService_1.InterpreterLocatorProgressService);
}

exports.registerTypes = registerTypes;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlcnZpY2VSZWdpc3RyeS5qcyJdLCJuYW1lcyI6WyJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInR5cGVzXzEiLCJyZXF1aXJlIiwiaW50ZXJwcmV0ZXJDb21wYXJlcl8xIiwiaW50ZXJwcmV0ZXJTZWxlY3Rvcl8xIiwicHl0aG9uUGF0aFVwZGF0ZXJTZXJ2aWNlXzEiLCJweXRob25QYXRoVXBkYXRlclNlcnZpY2VGYWN0b3J5XzEiLCJ0eXBlc18yIiwiY29udHJhY3RzXzEiLCJkaXNwbGF5XzEiLCJwcm9ncmVzc0Rpc3BsYXlfMSIsInNoZWJhbmdDb2RlTGVuc1Byb3ZpZGVyXzEiLCJoZWxwZXJzXzEiLCJpbnRlcnByZXRlclNlcnZpY2VfMSIsImludGVycHJldGVyVmVyc2lvbl8xIiwiaGVscGVyc18yIiwiaW5kZXhfMSIsInByb2dyZXNzU2VydmljZV8xIiwiY29uZGFFbnZGaWxlU2VydmljZV8xIiwiY29uZGFFbnZTZXJ2aWNlXzEiLCJjb25kYVNlcnZpY2VfMSIsImN1cnJlbnRQYXRoU2VydmljZV8xIiwiZ2xvYmFsVmlydHVhbEVudlNlcnZpY2VfMSIsImludGVycHJldGVyV2F0Y2hlckJ1aWxkZXJfMSIsIktub3duUGF0aHNTZXJ2aWNlXzEiLCJwaXBFbnZTZXJ2aWNlXzEiLCJ3aW5kb3dzUmVnaXN0cnlTZXJ2aWNlXzEiLCJ3b3Jrc3BhY2VWaXJ0dWFsRW52U2VydmljZV8xIiwid29ya3NwYWNlVmlydHVhbEVudldhdGNoZXJTZXJ2aWNlXzEiLCJpbmRleF8yIiwidHlwZXNfMyIsInJlZ2lzdGVyVHlwZXMiLCJzZXJ2aWNlTWFuYWdlciIsImFkZFNpbmdsZXRvbiIsIklLbm93blNlYXJjaFBhdGhzRm9ySW50ZXJwcmV0ZXJzIiwiS25vd25TZWFyY2hQYXRoc0ZvckludGVycHJldGVycyIsIklWaXJ0dWFsRW52aXJvbm1lbnRzU2VhcmNoUGF0aFByb3ZpZGVyIiwiR2xvYmFsVmlydHVhbEVudmlyb25tZW50c1NlYXJjaFBhdGhQcm92aWRlciIsIldvcmtzcGFjZVZpcnR1YWxFbnZpcm9ubWVudHNTZWFyY2hQYXRoUHJvdmlkZXIiLCJJQ29uZGFTZXJ2aWNlIiwiQ29uZGFTZXJ2aWNlIiwiSVZpcnR1YWxFbnZpcm9ubWVudE1hbmFnZXIiLCJWaXJ0dWFsRW52aXJvbm1lbnRNYW5hZ2VyIiwiYWRkIiwiSUludGVycHJldGVyV2F0Y2hlciIsIldvcmtzcGFjZVZpcnR1YWxFbnZXYXRjaGVyU2VydmljZSIsIldPUktTUEFDRV9WSVJUVUFMX0VOVl9TRVJWSUNFIiwiSUludGVycHJldGVyV2F0Y2hlckJ1aWxkZXIiLCJJbnRlcnByZXRlcldhdGNoZXJCdWlsZGVyIiwiSUludGVycHJldGVyVmVyc2lvblNlcnZpY2UiLCJJbnRlcnByZXRlclZlcnNpb25TZXJ2aWNlIiwiSUludGVycHJldGVyTG9jYXRvclNlcnZpY2UiLCJQeXRob25JbnRlcnByZXRlckxvY2F0b3JTZXJ2aWNlIiwiSU5URVJQUkVURVJfTE9DQVRPUl9TRVJWSUNFIiwiQ29uZGFFbnZGaWxlU2VydmljZSIsIkNPTkRBX0VOVl9GSUxFX1NFUlZJQ0UiLCJDb25kYUVudlNlcnZpY2UiLCJDT05EQV9FTlZfU0VSVklDRSIsIkN1cnJlbnRQYXRoU2VydmljZSIsIkNVUlJFTlRfUEFUSF9TRVJWSUNFIiwiR2xvYmFsVmlydHVhbEVudlNlcnZpY2UiLCJHTE9CQUxfVklSVFVBTF9FTlZfU0VSVklDRSIsIldvcmtzcGFjZVZpcnR1YWxFbnZTZXJ2aWNlIiwiUGlwRW52U2VydmljZSIsIlBJUEVOVl9TRVJWSUNFIiwiSVBpcEVudlNlcnZpY2UiLCJpc1dpbmRvd3MiLCJnZXQiLCJJc1dpbmRvd3MiLCJXaW5kb3dzUmVnaXN0cnlTZXJ2aWNlIiwiV0lORE9XU19SRUdJU1RSWV9TRVJWSUNFIiwiS25vd25QYXRoc1NlcnZpY2UiLCJLTk9XTl9QQVRIX1NFUlZJQ0UiLCJJSW50ZXJwcmV0ZXJTZXJ2aWNlIiwiSW50ZXJwcmV0ZXJTZXJ2aWNlIiwiSUludGVycHJldGVyRGlzcGxheSIsIkludGVycHJldGVyRGlzcGxheSIsIklQeXRob25QYXRoVXBkYXRlclNlcnZpY2VGYWN0b3J5IiwiUHl0aG9uUGF0aFVwZGF0ZXJTZXJ2aWNlRmFjdG9yeSIsIklQeXRob25QYXRoVXBkYXRlclNlcnZpY2VNYW5hZ2VyIiwiUHl0aG9uUGF0aFVwZGF0ZXJTZXJ2aWNlIiwiSUludGVycHJldGVyU2VsZWN0b3IiLCJJbnRlcnByZXRlclNlbGVjdG9yIiwiSVNoZWJhbmdDb2RlTGVuc1Byb3ZpZGVyIiwiU2hlYmFuZ0NvZGVMZW5zUHJvdmlkZXIiLCJJSW50ZXJwcmV0ZXJIZWxwZXIiLCJJbnRlcnByZXRlckhlbHBlciIsIklJbnRlcnByZXRlckxvY2F0b3JIZWxwZXIiLCJJbnRlcnByZXRlckxvY2F0b3JIZWxwZXIiLCJJSW50ZXJwcmV0ZXJDb21wYXJlciIsIkludGVycHJldGVyQ29tcGFyZXIiLCJJbnRlcnByZXRlckxvY2F0b3JQcm9ncmVzc0hhbmRsZXIiLCJJbnRlcnByZXRlckxvY2F0b3JQcm9ncmVzc1N0YXR1YmFySGFuZGxlciIsIklJbnRlcnByZXRlckxvY2F0b3JQcm9ncmVzc1NlcnZpY2UiLCJJbnRlcnByZXRlckxvY2F0b3JQcm9ncmVzc1NlcnZpY2UiXSwibWFwcGluZ3MiOiJBQUFBLGEsQ0FDQTtBQUNBOztBQUNBQSxNQUFNLENBQUNDLGNBQVAsQ0FBc0JDLE9BQXRCLEVBQStCLFlBQS9CLEVBQTZDO0FBQUVDLEVBQUFBLEtBQUssRUFBRTtBQUFULENBQTdDOztBQUNBLE1BQU1DLE9BQU8sR0FBR0MsT0FBTyxDQUFDLGlCQUFELENBQXZCOztBQUNBLE1BQU1DLHFCQUFxQixHQUFHRCxPQUFPLENBQUMscUNBQUQsQ0FBckM7O0FBQ0EsTUFBTUUscUJBQXFCLEdBQUdGLE9BQU8sQ0FBQyxxQ0FBRCxDQUFyQzs7QUFDQSxNQUFNRywwQkFBMEIsR0FBR0gsT0FBTyxDQUFDLDBDQUFELENBQTFDOztBQUNBLE1BQU1JLGlDQUFpQyxHQUFHSixPQUFPLENBQUMsaURBQUQsQ0FB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QTRCekIsV0FBVyxDQUFDNkUsa0JBQXhDLEVBQTREekUsU0FBUyxDQUFDMEUsaUJBQXRFO0FBQ0F0RCxFQUFBQSxjQUFjLENBQUNDLFlBQWYsQ0FBNEJ6QixXQUFXLENBQUMrRSx5QkFBeEMsRUFBbUV4RSxTQUFTLENBQUN5RSx3QkFBN0U7QUFDQXhELEVBQUFBLGNBQWMsQ0FBQ0MsWUFBZixDQUE0QjFCLE9BQU8sQ0FBQ2tGLG9CQUFwQyxFQUEwRHRGLHFCQUFxQixDQUFDdUYsbUJBQWhGO0FBQ0ExRCxFQUFBQSxjQUFjLENBQUNDLFlBQWYsQ0FBNEJ6QixXQUFXLENBQUNtRixpQ0FBeEMsRUFBMkVqRixpQkFBaUIsQ0FBQ2tGLHlDQUE3RjtBQUNBNUQsRUFBQUEsY0FBYyxDQUFDQyxZQUFmLENBQTRCekIsV0FBVyxDQUFDcUYsa0NBQXhDLEVBQTRFNUUsaUJBQWlCLENBQUM2RSxpQ0FBOUY7QUFDSDs7QUFDRC9GLE9BQU8sQ0FBQ2dDLGFBQVIsR0FBd0JBLGFBQXhCIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG4vLyBDb3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi4gQWxsIHJpZ2h0cyByZXNlcnZlZC5cbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgTGljZW5zZS5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHR5cGVzXzEgPSByZXF1aXJlKFwiLi4vY29tbW9uL3R5cGVzXCIpO1xuY29uc3QgaW50ZXJwcmV0ZXJDb21wYXJlcl8xID0gcmVxdWlyZShcIi4vY29uZmlndXJhdGlvbi9pbnRlcnByZXRlckNvbXBhcmVyXCIpO1xuY29uc3QgaW50ZXJwcmV0ZXJTZWxlY3Rvcl8xID0gcmVxdWlyZShcIi4vY29uZmlndXJhdGlvbi9pbnRlcnByZXRlclNlbGVjdG9yXCIpO1xuY29uc3QgcHl0aG9uUGF0aFVwZGF0ZXJTZXJ2aWNlXzEgPSByZXF1aXJlKFwiLi9jb25maWd1cmF0aW9uL3B5dGhvblBhdGhVcGRhdGVyU2VydmljZVwiKTtcbmNvbnN0IHB5dGhvblBhdGhVcGRhdGVyU2VydmljZUZhY3RvcnlfMSA9IHJlcXVpcmUoXCIuL2NvbmZpZ3VyYXRpb24vcHl0aG9uUGF0aFVwZGF0ZXJTZXJ2aWNlRmFjdG9yeVwiKTtcbmNvbnN0IHR5cGVzXzIgPSByZXF1aXJlKFwiLi9jb25maWd1cmF0aW9uL3R5cGVzXCIpO1xuY29uc3QgY29udHJhY3RzXzEgPSByZXF1aXJlKFwiLi9jb250cmFjdHNcIik7XG5jb25zdCBkaXNwbGF5XzEgPSByZXF1aXJlKFwiLi9kaXNwbGF5XCIpO1xuY29uc3QgcHJvZ3Jlc3NEaXNwbGF5XzEgPSByZXF1aXJlKFwiLi9kaXNwbGF5L3Byb2dyZXNzRGlzcGxheVwiKTtcbmNvbnN0IHNoZWJhbmdDb2RlTGVuc1Byb3ZpZGVyXzEgPSByZXF1aXJlKFwiLi9kaXNwbGF5L3NoZWJhbmdDb2RlTGVuc1Byb3ZpZGVyXCIpO1xuY29uc3QgaGVscGVyc18xID0gcmVxdWlyZShcIi4vaGVscGVyc1wiKTtcbmNvbnN0IGludGVycHJldGVyU2VydmljZV8xID0gcmVxdWlyZShcIi4vaW50ZXJwcmV0ZXJTZXJ2aWNlXCIpO1xuY29uc3QgaW50ZXJwcmV0ZXJWZXJzaW9uXzEgPSByZXF1aXJlKFwiLi9pbnRlcnByZXRlclZlcnNpb25cIik7XG5jb25zdCBoZWxwZXJzXzIgPSByZXF1aXJlKFwiLi9sb2NhdG9ycy9oZWxwZXJzXCIpO1xuY29uc3QgaW5kZXhfMSA9IHJlcXVpcmUoXCIuL2xvY2F0b3JzL2luZGV4XCIpO1xuY29uc3QgcHJvZ3Jlc3NTZXJ2aWNlXzEgPSByZXF1aXJlKFwiLi9sb2NhdG9ycy9wcm9ncmVzc1NlcnZpY2VcIik7XG5jb25zdCBjb25kYUVudkZpbGVTZXJ2aWNlXzEgPSByZXF1aXJlKFwiLi9sb2NhdG9ycy9zZXJ2aWNlcy9jb25kYUVudkZpbGVTZXJ2aWNlXCIpO1xuY29uc3QgY29uZGFFbnZTZXJ2aWNlXzEgPSByZXF1aXJlKFwiLi9sb2NhdG9ycy9zZXJ2aWNlcy9jb25kYUVudlNlcnZpY2VcIik7XG5jb25zdCBjb25kYVNlcnZpY2VfMSA9IHJlcXVpcmUoXCIuL2xvY2F0b3JzL3NlcnZpY2VzL2NvbmRhU2VydmljZVwiKTtcbmNvbnN0IGN1cnJlbnRQYXRoU2VydmljZV8xID0gcmVxdWlyZShcIi4vbG9jYXRvcnMvc2VydmljZXMvY3VycmVudFBhdGhTZXJ2aWNlXCIpO1xuY29uc3QgZ2xvYmFsVmlydHVhbEVudlNlcnZpY2VfMSA9IHJlcXVpcmUoXCIuL2xvY2F0b3JzL3NlcnZpY2VzL2dsb2JhbFZpcnR1YWxFbnZTZXJ2aWNlXCIpO1xuY29uc3QgaW50ZXJwcmV0ZXJXYXRjaGVyQnVpbGRlcl8xID0gcmVxdWlyZShcIi4vbG9jYXRvcnMvc2VydmljZXMvaW50ZXJwcmV0ZXJXYXRjaGVyQnVpbGRlclwiKTtcbmNvbnN0IEtub3duUGF0aHNTZXJ2aWNlXzEgPSByZXF1aXJlKFwiLi9sb2NhdG9ycy9zZXJ2aWNlcy9Lbm93blBhdGhzU2VydmljZVwiKTtcbmNvbnN0IHBpcEVudlNlcnZpY2VfMSA9IHJlcXVpcmUoXCIuL2xvY2F0b3JzL3NlcnZpY2VzL3BpcEVudlNlcnZpY2VcIik7XG5jb25zdCB3aW5kb3dzUmVnaXN0cnlTZXJ2aWNlXzEgPSByZXF1aXJlKFwiLi9sb2NhdG9ycy9zZXJ2aWNlcy93aW5kb3dzUmVnaXN0cnlTZXJ2aWNlXCIpO1xuY29uc3Qgd29ya3NwYWNlVmlydHVhbEVudlNlcnZpY2VfMSA9IHJlcXVpcmUoXCIuL2xvY2F0b3JzL3NlcnZpY2VzL3dvcmtzcGFjZVZpcnR1YWxFbnZTZXJ2aWNlXCIpO1xuY29uc3Qgd29ya3NwYWNlVmlydHVhbEVudldhdGNoZXJTZXJ2aWNlXzEgPSByZXF1aXJlKFwiLi9sb2NhdG9ycy9zZXJ2aWNlcy93b3Jrc3BhY2VWaXJ0dWFsRW52V2F0Y2hlclNlcnZpY2VcIik7XG5jb25zdCBpbmRleF8yID0gcmVxdWlyZShcIi4vdmlydHVhbEVudnMvaW5kZXhcIik7XG5jb25zdCB0eXBlc18zID0gcmVxdWlyZShcIi4vdmlydHVhbEVudnMvdHlwZXNcIik7XG5mdW5jdGlvbiByZWdpc3RlclR5cGVzKHNlcnZpY2VNYW5hZ2VyKSB7XG4gICAgc2VydmljZU1hbmFnZXIuYWRkU2luZ2xldG9uKGNvbnRyYWN0c18xLklLbm93blNlYXJjaFBhdGhzRm9ySW50ZXJwcmV0ZXJzLCBLbm93blBhdGhzU2VydmljZV8xLktub3duU2VhcmNoUGF0aHNGb3JJbnRlcnByZXRlcnMpO1xuICAgIHNlcnZpY2VNYW5hZ2VyLmFkZFNpbmdsZXRvbihjb250cmFjdHNfMS5JVmlydHVhbEVudmlyb25tZW50c1NlYXJjaFBhdGhQcm92aWRlciwgZ2xvYmFsVmlydHVhbEVudlNlcnZpY2VfMS5HbG9iYWxWaXJ0dWFsRW52aXJvbm1lbnRzU2VhcmNoUGF0aFByb3ZpZGVyLCAnZ2xvYmFsJyk7XG4gICAgc2VydmljZU1hbmFnZXIuYWRkU2luZ2xldG9uKGNvbnRyYWN0c18xLklWaXJ0dWFsRW52aXJvbm1lbnRzU2VhcmNoUGF0aFByb3ZpZGVyLCB3b3Jrc3BhY2VWaXJ0dWFsRW52U2VydmljZV8xLldvcmtzcGFjZVZpcnR1YWxFbnZpcm9ubWVudHNTZWFyY2hQYXRoUHJvdmlkZXIsICd3b3Jrc3BhY2UnKTtcbiAgICBzZXJ2aWNlTWFuYWdlci5hZGRTaW5nbGV0b24oY29udHJhY3RzXzEuSUNvbmRhU2VydmljZSwgY29uZGFTZXJ2aWNlXzEuQ29uZGFTZXJ2aWNlKTtcbiAgICBzZXJ2aWNlTWFuYWdlci5hZGRTaW5nbGV0b24odHlwZXNfMy5JVmlydHVhbEVudmlyb25tZW50TWFuYWdlciwgaW5kZXhfMi5WaXJ0dWFsRW52aXJvbm1lbnRNYW5hZ2VyKTtcbiAgICBzZXJ2aWNlTWFuYWdlci5hZGQoY29udHJhY3RzXzEuSUludGVycHJldGVyV2F0Y2hlciwgd29ya3NwYWNlVmlydHVhbEVudldhdGNoZXJTZXJ2aWNlXzEuV29ya3NwYWNlVmlydHVhbEVudldhdGNoZXJTZXJ2aWNlLCBjb250cmFjdHNfMS5XT1JLU1BBQ0VfVklSVFVBTF9FTlZfU0VSVklDRSk7XG4gICAgc2VydmljZU1hbmFnZXIuYWRkU2luZ2xldG9uKGNvbnRyYWN0c18xLklJbnRlcnByZXRlcldhdGNoZXJCdWlsZGVyLCBpbnRlcnByZXRlcldhdGNoZXJCdWlsZGVyXzEuSW50ZXJwcmV0ZXJXYXRjaGVyQnVpbGRlcik7XG4gICAgc2VydmljZU1hbmFnZXIuYWRkU2luZ2xldG9uKGNvbnRyYWN0c18xLklJbnRlcnByZXRlclZlcnNpb25TZXJ2aWNlLCBpbnRlcnByZXRlclZlcnNpb25fMS5JbnRlcnByZXRlclZlcnNpb25TZXJ2aWNlKTtcbiAgICBzZXJ2aWNlTWFuYWdlci5hZGRTaW5nbGV0b24oY29udHJhY3RzXzEuSUludGVycHJldGVyTG9jYXRvclNlcnZpY2UsIGluZGV4XzEuUHl0aG9uSW50ZXJwcmV0ZXJMb2NhdG9yU2VydmljZSwgY29udHJhY3RzXzEuSU5URVJQUkVURVJfTE9DQVRPUl9TRVJWSUNFKTtcbiAgICBzZXJ2aWNlTWFuYWdlci5hZGRTaW5nbGV0b24oY29udHJhY3RzXzEuSUludGVycHJldGVyTG9jYXRvclNlcnZpY2UsIGNvbmRhRW52RmlsZVNlcnZpY2VfMS5Db25kYUVudkZpbGVTZXJ2aWNlLCBjb250cmFjdHNfMS5DT05EQV9FTlZfRklMRV9TRVJWSUNFKTtcbiAgICBzZXJ2aWNlTWFuYWdlci5hZGRTaW5nbGV0b24oY29udHJhY3RzXzEuSUludGVycHJldGVyTG9jYXRvclNlcnZpY2UsIGNvbmRhRW52U2VydmljZV8xLkNvbmRhRW52U2VydmljZSwgY29udHJhY3RzXzEuQ09OREFfRU5WX1NFUlZJQ0UpO1xuICAgIHNlcnZpY2VNYW5hZ2VyLmFkZFNpbmdsZXRvbihjb250cmFjdHNfMS5JSW50ZXJwcmV0ZXJMb2NhdG9yU2VydmljZSwgY3VycmVudFBhdGhTZXJ2aWNlXzEuQ3VycmVudFBhdGhTZXJ2aWNlLCBjb250cmFjdHNfMS5DVVJSRU5UX1BBVEhfU0VSVklDRSk7XG4gICAgc2VydmljZU1hbmFnZXIuYWRkU2luZ2xldG9uKGNvbnRyYWN0c18xLklJbnRlcnByZXRlckxvY2F0b3JTZXJ2aWNlLCBnbG9iYWxWaXJ0dWFsRW52U2VydmljZV8xLkdsb2JhbFZpcnR1YWxFbnZTZXJ2aWNlLCBjb250cmFjdHNfMS5HTE9CQUxfVklSVFVBTF9FTlZfU0VSVklDRSk7XG4gICAgc2VydmljZU1hbmFnZXIuYWRkU2luZ2xldG9uKGNvbnRyYWN0c18xLklJbnRlcnByZXRlckxvY2F0b3JTZXJ2aWNlLCB3b3Jrc3BhY2VWaXJ0dWFsRW52U2VydmljZV8xLldvcmtzcGFjZVZpcnR1YWxFbnZTZXJ2aWNlLCBjb250cmFjdHNfMS5XT1JLU1BBQ0VfVklSVFVBTF9FTlZfU0VSVklDRSk7XG4gICAgc2VydmljZU1hbmFnZXIuYWRkU2luZ2xldG9uKGNvbnRyYWN0c18xLklJbnRlcnByZXRlckxvY2F0b3JTZXJ2aWNlLCBwaXBFbnZTZXJ2aWNlXzEuUGlwRW52U2VydmljZSwgY29udHJhY3RzXzEuUElQRU5WX1NFUlZJQ0UpO1xuICAgIHNlcnZpY2VNYW5hZ2VyLmFkZFNpbmdsZXRvbihjb250cmFjdHNfMS5JUGlwRW52U2VydmljZSwgcGlwRW52U2VydmljZV8xLlBpcEVudlNlcnZpY2UpO1xuICAgIGNvbnN0IGlzV2luZG93cyA9IHNlcnZpY2VNYW5hZ2VyLmdldCh0eXBlc18xLklzV2luZG93cyk7XG4gICAgaWYgKGlzV2luZG93cykge1xuICAgICAgICBzZXJ2aWNlTWFuYWdlci5hZGRTaW5nbGV0b24oY29udHJhY3RzXzEuSUludGVycHJldGVyTG9jYXRvclNlcnZpY2UsIHdpbmRvd3NSZWdpc3RyeVNlcnZpY2VfMS5XaW5kb3dzUmVnaXN0cnlTZXJ2aWNlLCBjb250cmFjdHNfMS5XSU5ET1dTX1JFR0lTVFJZX1NFUlZJQ0UpO1xuICAgIH1cbiAgICBzZXJ2aWNlTWFuYWdlci5hZGRTaW5nbGV0b24oY29udHJhY3RzXzEuSUludGVycHJldGVyTG9jYXRvclNlcnZpY2UsIEtub3duUGF0aHNTZXJ2aWNlXzEuS25vd25QYXRoc1NlcnZpY2UsIGNvbnRyYWN0c18xLktOT1dOX1BBVEhfU0VSVklDRSk7XG4gICAgc2VydmljZU1hbmFnZXIuYWRkU2luZ2xldG9uKGNvbnRyYWN0c18xLklJbnRlcnByZXRlclNlcnZpY2UsIGludGVycHJldGVyU2VydmljZV8xLkludGVycHJldGVyU2VydmljZSk7XG4gICAgc2VydmljZU1hbmFnZXIuYWRkU2luZ2xldG9uKGNvbnRyYWN0c18xLklJbnRlcnByZXRlckRpc3BsYXksIGRpc3BsYXlfMS5JbnRlcnByZXRlckRpc3BsYXkpO1xuICAgIHNlcnZpY2VNYW5hZ2VyLmFkZFNpbmdsZXRvbih0eXBlc18yLklQeXRob25QYXRoVXBkYXRlclNlcnZpY2VGYWN0b3J5LCBweXRob25QYXRoVXBkYXRlclNlcnZpY2VGYWN0b3J5XzEuUHl0aG9uUGF0aFVwZGF0ZXJTZXJ2aWNlRmFjdG9yeSk7XG4gICAgc2VydmljZU1hbmFnZXIuYWRkU2luZ2xldG9uKHR5cGVzXzIuSVB5dGhvblBhdGhVcGRhdGVyU2VydmljZU1hbmFnZXIsIHB5dGhvblBhdGhVcGRhdGVyU2VydmljZV8xLlB5dGhvblBhdGhVcGRhdGVyU2VydmljZSk7XG4gICAgc2VydmljZU1hbmFnZXIuYWRkU2luZ2xldG9uKHR5cGVzXzIuSUludGVycHJldGVyU2VsZWN0b3IsIGludGVycHJldGVyU2VsZWN0b3JfMS5JbnRlcnByZXRlclNlbGVjdG9yKTtcbiAgICBzZXJ2aWNlTWFuYWdlci5hZGRTaW5nbGV0b24oY29udHJhY3RzXzEuSVNoZWJhbmdDb2RlTGVuc1Byb3ZpZGVyLCBzaGViYW5nQ29kZUxlbnNQcm92aWRlcl8xLlNoZWJhbmdDb2RlTGVuc1Byb3ZpZGVyKTtcbiAgICBzZXJ2aWNlTWFuYWdlci5hZGRTaW5nbGV0b24oY29udHJhY3RzXzEuSUludGVycHJldGVySGVscGVyLCBoZWxwZXJzXzEuSW50ZXJwcmV0ZXJIZWxwZXIpO1xuICAgIHNlcnZpY2VNYW5hZ2VyLmFkZFNpbmdsZXRvbihjb250cmFjdHNfMS5JSW50ZXJwcmV0ZXJMb2NhdG9ySGVscGVyLCBoZWxwZXJzXzIuSW50ZXJwcmV0ZXJMb2NhdG9ySGVscGVyKTtcbiAgICBzZXJ2aWNlTWFuYWdlci5hZGRTaW5nbGV0b24odHlwZXNfMi5JSW50ZXJwcmV0ZXJDb21wYXJlciwgaW50ZXJwcmV0ZXJDb21wYXJlcl8xLkludGVycHJldGVyQ29tcGFyZXIpO1xuICAgIHNlcnZpY2VNYW5hZ2VyLmFkZFNpbmdsZXRvbihjb250cmFjdHNfMS5JbnRlcnByZXRlckxvY2F0b3JQcm9ncmVzc0hhbmRsZXIsIHByb2dyZXNzRGlzcGxheV8xLkludGVycHJldGVyTG9jYXRvclByb2dyZXNzU3RhdHViYXJIYW5kbGVyKTtcbiAgICBzZXJ2aWNlTWFuYWdlci5hZGRTaW5nbGV0b24oY29udHJhY3RzXzEuSUludGVycHJldGVyTG9jYXRvclByb2dyZXNzU2VydmljZSwgcHJvZ3Jlc3NTZXJ2aWNlXzEuSW50ZXJwcmV0ZXJMb2NhdG9yUHJvZ3Jlc3NTZXJ2aWNlKTtcbn1cbmV4cG9ydHMucmVnaXN0ZXJUeXBlcyA9IHJlZ2lzdGVyVHlwZXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJ2aWNlUmVnaXN0cnkuanMubWFwIl19