'use strict';

var __decorate = void 0 && (void 0).__decorate || function (decorators, target, key, desc) {
  var c = arguments.length,
      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
      d;
  if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
  return c > 3 && r && Object.defineProperty(target, key, r), r;
};

Object.defineProperty(exports, "__esModule", {
  value: true
});

const vscode = require("vscode");

const telemetry_1 = require("../telemetry");

const constants_1 = require("../telemetry/constants");

const proxy = require("./jediProxy");

class PythonReferenceProvider {
  constructor(jediFactory) {
    this.jediFactory = jediFactory;
  }

  static parseData(data) {
    if (data && data.references.length > 0) {
      // tslint:disable-next-line:no-unnecessary-local-variable
      const references = data.references.filter(ref => {
        if (!ref || typeof ref.columnIndex !== 'number' || typeof ref.lineIndex !== 'number' || typeof ref.fileName !== 'string' || ref.columnIndex === -1 || ref.lineIndex === -1 || ref.fileName.length === 0) {
          return false;
        }

        return true;
      }).map(ref => {
        const definitionResource = vscode.Uri.file(ref.fileName);
        const range = new vscode.Range(ref.lineIndex, ref.columnIndex, ref.lineIndex, ref.columnIndex);
        return new vscode.Location(definitionResource, range);
      });
      return references;
    }

    return [];
  }

  provideReferences(document, position, context, token) {
    const filename = document.fileName;

    if (document.lineAt(position.line).text.match(/^\s*\/\//)) {
      return Promise.resolve(null);
    }

    if (position.character <= 0) {
      return Promise.resolve(null);
    }

    const range = document.getWordRangeAtPosition(position);
    const columnIndex = range.isEmpty ? position.character : range.end.character;
    const cmd = {
      command: proxy.CommandType.Usages,
      fileName: filename,
      columnIndex: columnIndex,
      lineIndex: position.line
    };

    if (document.isDirty) {
      cmd.source = document.getText();
    }

    return this.jediFactory.getJediProxyHandler(document.uri).sendCommand(cmd, token).then(data => {
      return PythonReferenceProvider.parseData(data);
    });
  }

}

__decorate([telemetry_1.captureTelemetry(constants_1.REFERENCE)], PythonReferenceProvider.prototype, "provideReferences", null);

exports.PythonReferenceProvider = PythonReferenceProvider;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJlZmVyZW5jZVByb3ZpZGVyLmpzIl0sIm5hbWVzIjpbIl9fZGVjb3JhdGUiLCJkZWNvcmF0b3JzIiwidGFyZ2V0Iiwia2V5IiwiZGVzYyIsImMiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJyIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZCIsIlJlZmxlY3QiLCJkZWNvcmF0ZSIsImkiLCJkZWZpbmVQcm9wZXJ0eSIsImV4cG9ydHMiLCJ2YWx1ZSIsInZzY29kZSIsInJlcXVpcmUiLCJ0ZWxlbWV0cnlfMSIsImNvbnN0YW50c18xIiwicHJveHkiLCJQeXRob25SZWZlcmVuY2VQcm92aWRlciIsImNvbnN0cnVjdG9yIiwiamVkaUZhY3RvcnkiLCJwYXJzZURhdGEiLCJkYXRhIiwicmVmZXJlbmNlcyIsImZpbHRlciIsInJlZiIsImNvbHVtbkluZGV4IiwibGluZUluZGV4IiwiZmlsZU5hbWUiLCJtYXAiLCJkZWZpbml0aW9uUmVzb3VyY2UiLCJVcmkiLCJmaWxlIiwicmFuZ2UiLCJSYW5nZSIsIkxvY2F0aW9uIiwicHJvdmlkZVJlZmVyZW5jZXMiLCJkb2N1bWVudCIsInBvc2l0aW9uIiwiY29udGV4dCIsInRva2VuIiwiZmlsZW5hbWUiLCJsaW5lQXQiLCJsaW5lIiwidGV4dCIsIm1hdGNoIiwiUHJvbWlzZSIsInJlc29sdmUiLCJjaGFyYWN0ZXIiLCJnZXRXb3JkUmFuZ2VBdFBvc2l0aW9uIiwiaXNFbXB0eSIsImVuZCIsImNtZCIsImNvbW1hbmQiLCJDb21tYW5kVHlwZSIsIlVzYWdlcyIsImlzRGlydHkiLCJzb3VyY2UiLCJnZXRUZXh0IiwiZ2V0SmVkaVByb3h5SGFuZGxlciIsInVyaSIsInNlbmRDb21tYW5kIiwidGhlbiIsImNhcHR1cmVUZWxlbWV0cnkiLCJSRUZFUkVOQ0UiLCJwcm90b3R5cGUiXSwibWFwcGluZ3MiOiJBQUFBOztBQUNBLElBQUlBLFVBQVUsR0FBSSxVQUFRLFNBQUtBLFVBQWQsSUFBNkIsVUFBVUMsVUFB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QU4sQ0FBa0JDLE1BRG5CO0FBRVIzQixNQUFBQSxRQUFRLEVBQUVhLFFBRkY7QUFHUmYsTUFBQUEsV0FBVyxFQUFFQSxXQUhMO0FBSVJDLE1BQUFBLFNBQVMsRUFBRVcsUUFBUSxDQUFDSztBQUpaLEtBQVo7O0FBTUEsUUFBSU4sUUFBUSxDQUFDbUIsT0FBYixFQUFzQjtBQUNsQkosTUFBQUEsR0FBRyxDQUFDSyxNQUFKLEdBQWFwQixRQUFRLENBQUNxQixPQUFULEVBQWI7QUFDSDs7QUFDRCxXQUFPLEtBQUt0QyxXQUFMLENBQWlCdUMsbUJBQWpCLENBQXFDdEIsUUFBUSxDQUFDdUIsR0FBOUMsRUFBbURDLFdBQW5ELENBQStEVCxHQUEvRCxFQUFvRVosS0FBcEUsRUFBMkVzQixJQUEzRSxDQUFnRnhDLElBQUksSUFBSTtBQUMzRixhQUFPSix1QkFBdUIsQ0FBQ0csU0FBeEIsQ0FBa0NDLElBQWxDLENBQVA7QUFDSCxLQUZNLENBQVA7QUFHSDs7QUE1Q3lCOztBQThDOUIzQixVQUFVLENBQUMsQ0FDUG9CLFdBQVcsQ0FBQ2dELGdCQUFaLENBQTZCL0MsV0FBVyxDQUFDZ0QsU0FBekMsQ0FETyxDQUFELEVBRVA5Qyx1QkFBdUIsQ0FBQytDLFNBRmpCLEVBRTRCLG1CQUY1QixFQUVpRCxJQUZqRCxDQUFWOztBQUdBdEQsT0FBTyxDQUFDTyx1QkFBUixHQUFrQ0EsdUJBQWxDIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xudmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgdnNjb2RlID0gcmVxdWlyZShcInZzY29kZVwiKTtcbmNvbnN0IHRlbGVtZXRyeV8xID0gcmVxdWlyZShcIi4uL3RlbGVtZXRyeVwiKTtcbmNvbnN0IGNvbnN0YW50c18xID0gcmVxdWlyZShcIi4uL3RlbGVtZXRyeS9jb25zdGFudHNcIik7XG5jb25zdCBwcm94eSA9IHJlcXVpcmUoXCIuL2plZGlQcm94eVwiKTtcbmNsYXNzIFB5dGhvblJlZmVyZW5jZVByb3ZpZGVyIHtcbiAgICBjb25zdHJ1Y3RvcihqZWRpRmFjdG9yeSkge1xuICAgICAgICB0aGlzLmplZGlGYWN0b3J5ID0gamVkaUZhY3Rvcnk7XG4gICAgfVxuICAgIHN0YXRpYyBwYXJzZURhdGEoZGF0YSkge1xuICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLnJlZmVyZW5jZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLXVubmVjZXNzYXJ5LWxvY2FsLXZhcmlhYmxlXG4gICAgICAgICAgICBjb25zdCByZWZlcmVuY2VzID0gZGF0YS5yZWZlcmVuY2VzLmZpbHRlcihyZWYgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcmVmIHx8IHR5cGVvZiByZWYuY29sdW1uSW5kZXggIT09ICdudW1iZXInIHx8IHR5cGVvZiByZWYubGluZUluZGV4ICE9PSAnbnVtYmVyJ1xuICAgICAgICAgICAgICAgICAgICB8fCB0eXBlb2YgcmVmLmZpbGVOYW1lICE9PSAnc3RyaW5nJyB8fCByZWYuY29sdW1uSW5kZXggPT09IC0xIHx8IHJlZi5saW5lSW5kZXggPT09IC0xIHx8IHJlZi5maWxlTmFtZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH0pLm1hcChyZWYgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRlZmluaXRpb25SZXNvdXJjZSA9IHZzY29kZS5VcmkuZmlsZShyZWYuZmlsZU5hbWUpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJhbmdlID0gbmV3IHZzY29kZS5SYW5nZShyZWYubGluZUluZGV4LCByZWYuY29sdW1uSW5kZXgsIHJlZi5saW5lSW5kZXgsIHJlZi5jb2x1bW5JbmRleCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyB2c2NvZGUuTG9jYXRpb24oZGVmaW5pdGlvblJlc291cmNlLCByYW5nZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiByZWZlcmVuY2VzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgcHJvdmlkZVJlZmVyZW5jZXMoZG9jdW1lbnQsIHBvc2l0aW9uLCBjb250ZXh0LCB0b2tlbikge1xuICAgICAgICBjb25zdCBmaWxlbmFtZSA9IGRvY3VtZW50LmZpbGVOYW1lO1xuICAgICAgICBpZiAoZG9jdW1lbnQubGluZUF0KHBvc2l0aW9uLmxpbmUpLnRleHQubWF0Y2goL15cXHMqXFwvXFwvLykpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBvc2l0aW9uLmNoYXJhY3RlciA8PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJhbmdlID0gZG9jdW1lbnQuZ2V0V29yZFJhbmdlQXRQb3NpdGlvbihwb3NpdGlvbik7XG4gICAgICAgIGNvbnN0IGNvbHVtbkluZGV4ID0gcmFuZ2UuaXNFbXB0eSA/IHBvc2l0aW9uLmNoYXJhY3RlciA6IHJhbmdlLmVuZC5jaGFyYWN0ZXI7XG4gICAgICAgIGNvbnN0IGNtZCA9IHtcbiAgICAgICAgICAgIGNvbW1hbmQ6IHByb3h5LkNvbW1hbmRUeXBlLlVzYWdlcyxcbiAgICAgICAgICAgIGZpbGVOYW1lOiBmaWxlbmFtZSxcbiAgICAgICAgICAgIGNvbHVtbkluZGV4OiBjb2x1bW5JbmRleCxcbiAgICAgICAgICAgIGxpbmVJbmRleDogcG9zaXRpb24ubGluZVxuICAgICAgICB9O1xuICAgICAgICBpZiAoZG9jdW1lbnQuaXNEaXJ0eSkge1xuICAgICAgICAgICAgY21kLnNvdXJjZSA9IGRvY3VtZW50LmdldFRleHQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5qZWRpRmFjdG9yeS5nZXRKZWRpUHJveHlIYW5kbGVyKGRvY3VtZW50LnVyaSkuc2VuZENvbW1hbmQoY21kLCB0b2tlbikudGhlbihkYXRhID0+IHtcbiAgICAgICAgICAgIHJldHVybiBQeXRob25SZWZlcmVuY2VQcm92aWRlci5wYXJzZURhdGEoZGF0YSk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbl9fZGVjb3JhdGUoW1xuICAgIHRlbGVtZXRyeV8xLmNhcHR1cmVUZWxlbWV0cnkoY29uc3RhbnRzXzEuUkVGRVJFTkNFKVxuXSwgUHl0aG9uUmVmZXJlbmNlUHJvdmlkZXIucHJvdG90eXBlLCBcInByb3ZpZGVSZWZlcmVuY2VzXCIsIG51bGwpO1xuZXhwb3J0cy5QeXRob25SZWZlcmVuY2VQcm92aWRlciA9IFB5dGhvblJlZmVyZW5jZVByb3ZpZGVyO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVmZXJlbmNlUHJvdmlkZXIuanMubWFwIl19