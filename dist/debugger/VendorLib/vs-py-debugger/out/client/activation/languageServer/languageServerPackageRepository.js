// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT License.
'use strict';

var __decorate = void 0 && (void 0).__decorate || function (decorators, target, key, desc) {
  var c = arguments.length,
      r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,
      d;
  if (typeof Reflect === "object" && typeof Reflect.decorate === "function") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
  return c > 3 && r && Object.defineProperty(target, key, r), r;
};

var __param = void 0 && (void 0).__param || function (paramIndex, decorator) {
  return function (target, key) {
    decorator(target, key, paramIndex);
  };
};

Object.defineProperty(exports, "__esModule", {
  value: true
});

const inversify_1 = require("inversify");

const azureBlobStoreNugetRepository_1 = require("../../common/nuget/azureBlobStoreNugetRepository");

const types_1 = require("../../ioc/types");

const azureBlobStorageAccount = 'https://pvsc.blob.core.windows.net';
exports.azureCDNBlobStorageAccount = 'https://pvsc.azureedge.net';
var LanguageServerDownloadChannel;

(function (LanguageServerDownloadChannel) {
  LanguageServerDownloadChannel["stable"] = "stable";
  LanguageServerDownloadChannel["beta"] = "beta";
  LanguageServerDownloadChannel["daily"] = "daily";
})(LanguageServerDownloadChannel = exports.LanguageServerDownloadChannel || (exports.LanguageServerDownloadChannel = {}));

var LanguageServerPackageStorageContainers;

(function (LanguageServerPackageStorageContainers) {
  LanguageServerPackageStorageContainers["stable"] = "python-language-server-stable";
  LanguageServerPackageStorageContainers["beta"] = "python-language-server-beta";
  LanguageServerPackageStorageContainers["daily"] = "python-language-server-daily";
})(LanguageServerPackageStorageContainers = exports.LanguageServerPackageStorageContainers || (exports.LanguageServerPackageStorageContainers = {}));

let StableLanguageServerPackageRepository = class StableLanguageServerPackageRepository extends azureBlobStoreNugetRepository_1.AzureBlobStoreNugetRepository {
  constructor(serviceContainer) {
    super(serviceContainer, azureBlobStorageAccount, LanguageServerPackageStorageContainers.stable, exports.azureCDNBlobStorageAccount);
  }

};
StableLanguageServerPackageRepository = __decorate([inversify_1.injectable(), __param(0, inversify_1.inject(types_1.IServiceContainer))], StableLanguageServerPackageRepository);
exports.StableLanguageServerPackageRepository = StableLanguageServerPackageRepository;
let BetaLanguageServerPackageRepository = class BetaLanguageServerPackageRepository extends azureBlobStoreNugetRepository_1.AzureBlobStoreNugetRepository {
  constructor(serviceContainer) {
    super(serviceContainer, azureBlobStorageAccount, LanguageServerPackageStorageContainers.beta, exports.azureCDNBlobStorageAccount);
  }

};
BetaLanguageServerPackageRepository = __decorate([inversify_1.injectable(), __param(0, inversify_1.inject(types_1.IServiceContainer))], BetaLanguageServerPackageRepository);
exports.BetaLanguageServerPackageRepository = BetaLanguageServerPackageRepository;
let DailyLanguageServerPackageRepository = class DailyLanguageServerPackageRepository extends azureBlobStoreNugetRepository_1.AzureBlobStoreNugetRepository {
  constructor(serviceContainer) {
    super(serviceContainer, azureBlobStorageAccount, LanguageServerPackageStorageContainers.daily, exports.azureCDNBlobStorageAccount);
  }

};
DailyLanguageServerPackageRepository = __decorate([inversify_1.injectable(), __param(0, inversify_1.inject(types_1.IServiceContainer))], DailyLanguageServerPackageRepository);
exports.DailyLanguageServerPackageRepository = DailyLanguageServerPackageRepository;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImxhbmd1YWdlU2VydmVyUGFja2FnZVJlcG9zaXRvcnkuanMiXSwibmFtZXMiOlsiX19kZWNvcmF0ZSIsImRlY29yYXRvcnMiLCJ0YXJnZXQiLCJrZXkiLCJkZXNjIiwiYyIsImFyZ3VtZW50cyIsImxlbmd0aCIsInIiLCJPYmplY3QiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJkIiwiUmVmbGVjdCIsImRlY29yYXRlIiwiaSIsImRlZmluZVByb3BlcnR5IiwiX19wYXJhbSIsInBhcmFtSW5kZXgiLCJkZWNvcmF0b3IiLCJleHBvcnRzIiwidmFsdWUiLCJpbnZlcnNpZnlfMSIsInJlcXVpcmUiLCJhenVyZUJsb2JTdG9yZU51Z2V0UmVwb3NpdG9yeV8xIiwidHlwZXNfMSIsImF6dXJlQmxvYlN0b3JhZ2VBY2NvdW50IiwiYXp1cmVDRE5CbG9iU3RvcmFnZUFjY291bnQiLCJMYW5ndWFnZVNlcnZlckRvd25sb2FkQ2hhbm5lbCIsIkxhbmd1YWdlU2VydmVyUGFja2FnZVN0b3JhZ2VDb250YWluZXJzIiwiU3RhYmxlTGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlUmVwb3NpdG9yeSIsIkF6dXJlQmxvYlN0b3JlTnVnZXRSZXBvc2l0b3J5IiwiY29uc3RydWN0b3IiLCJzZXJ2aWNlQ29udGFpbmVyIiwic3RhYmxlIiwiaW5qZWN0YWJsZSIsImluamVjdCIsIklTZXJ2aWNlQ29udGFpbmVyIiwiQmV0YUxhbmd1YWdlU2VydmVyUGFja2FnZVJlcG9zaXRvcnkiLCJiZXRhIiwiRGFpbHlMYW5ndWFnZVNlcnZlclBhY2thZ2VSZXBvc2l0b3J5IiwiZGFpbHkiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTs7QUFDQSxJQUFJQSxVQUFVLEdBQUksVUFBUSxTQUFLQSxVQUFkLElBQTZCLFVBQVVDLFVBQVYsRUFBc0JDLE1BQXRCLEVBQThCQyxHQUE5QixFQUFtQ0MsSUFBbkMsRUFBeUM7QUFDbkYsTUFBSUMsQ0FBQyxHQUFHQyxTQUFTLENBQUNDLE1BQWxCO0FBQUEs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Q0FBQ08sNkJBQW5GLENBQWlIO0FBQ3hKQyxFQUFBQSxXQUFXLENBQUNDLGdCQUFELEVBQW1CO0FBQzFCLFVBQU1BLGdCQUFOLEVBQXdCUCx1QkFBeEIsRUFBaURHLHNDQUFzQyxDQUFDWSxLQUF4RixFQUErRnJCLE9BQU8sQ0FBQ08sMEJBQXZHO0FBQ0g7O0FBSHVKLENBQTVKO0FBS0FhLG9DQUFvQyxHQUFHdkMsVUFBVSxDQUFDLENBQzlDcUIsV0FBVyxDQUFDYSxVQUFaLEVBRDhDLEVBRTlDbEIsT0FBTyxDQUFDLENBQUQsRUFBSUssV0FBVyxDQUFDYyxNQUFaLENBQW1CWCxPQUFPLENBQUNZLGlCQUEzQixDQUFKLENBRnVDLENBQUQsRUFHOUNHLG9DQUg4QyxDQUFqRDtBQUlBcEIsT0FBTyxDQUFDb0Isb0NBQVIsR0FBK0NBLG9DQUEvQyIsInNvdXJjZXNDb250ZW50IjpbIi8vIENvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuLy8gTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuJ3VzZSBzdHJpY3QnO1xudmFyIF9fZGVjb3JhdGUgPSAodGhpcyAmJiB0aGlzLl9fZGVjb3JhdGUpIHx8IGZ1bmN0aW9uIChkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XG59O1xudmFyIF9fcGFyYW0gPSAodGhpcyAmJiB0aGlzLl9fcGFyYW0pIHx8IGZ1bmN0aW9uIChwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBpbnZlcnNpZnlfMSA9IHJlcXVpcmUoXCJpbnZlcnNpZnlcIik7XG5jb25zdCBhenVyZUJsb2JTdG9yZU51Z2V0UmVwb3NpdG9yeV8xID0gcmVxdWlyZShcIi4uLy4uL2NvbW1vbi9udWdldC9henVyZUJsb2JTdG9yZU51Z2V0UmVwb3NpdG9yeVwiKTtcbmNvbnN0IHR5cGVzXzEgPSByZXF1aXJlKFwiLi4vLi4vaW9jL3R5cGVzXCIpO1xuY29uc3QgYXp1cmVCbG9iU3RvcmFnZUFjY291bnQgPSAnaHR0cHM6Ly9wdnNjLmJsb2IuY29yZS53aW5kb3dzLm5ldCc7XG5leHBvcnRzLmF6dXJlQ0ROQmxvYlN0b3JhZ2VBY2NvdW50ID0gJ2h0dHBzOi8vcHZzYy5henVyZWVkZ2UubmV0JztcbnZhciBMYW5ndWFnZVNlcnZlckRvd25sb2FkQ2hhbm5lbDtcbihmdW5jdGlvbiAoTGFuZ3VhZ2VTZXJ2ZXJEb3dubG9hZENoYW5uZWwpIHtcbiAgICBMYW5ndWFnZVNlcnZlckRvd25sb2FkQ2hhbm5lbFtcInN0YWJsZVwiXSA9IFwic3RhYmxlXCI7XG4gICAgTGFuZ3VhZ2VTZXJ2ZXJEb3dubG9hZENoYW5uZWxbXCJiZXRhXCJdID0gXCJiZXRhXCI7XG4gICAgTGFuZ3VhZ2VTZXJ2ZXJEb3dubG9hZENoYW5uZWxbXCJkYWlseVwiXSA9IFwiZGFpbHlcIjtcbn0pKExhbmd1YWdlU2VydmVyRG93bmxvYWRDaGFubmVsID0gZXhwb3J0cy5MYW5ndWFnZVNlcnZlckRvd25sb2FkQ2hhbm5lbCB8fCAoZXhwb3J0cy5MYW5ndWFnZVNlcnZlckRvd25sb2FkQ2hhbm5lbCA9IHt9KSk7XG52YXIgTGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlU3RvcmFnZUNvbnRhaW5lcnM7XG4oZnVuY3Rpb24gKExhbmd1YWdlU2VydmVyUGFja2FnZVN0b3JhZ2VDb250YWluZXJzKSB7XG4gICAgTGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlU3RvcmFnZUNvbnRhaW5lcnNbXCJzdGFibGVcIl0gPSBcInB5dGhvbi1sYW5ndWFnZS1zZXJ2ZXItc3RhYmxlXCI7XG4gICAgTGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlU3RvcmFnZUNvbnRhaW5lcnNbXCJiZXRhXCJdID0gXCJweXRob24tbGFuZ3VhZ2Utc2VydmVyLWJldGFcIjtcbiAgICBMYW5ndWFnZVNlcnZlclBhY2thZ2VTdG9yYWdlQ29udGFpbmVyc1tcImRhaWx5XCJdID0gXCJweXRob24tbGFuZ3VhZ2Utc2VydmVyLWRhaWx5XCI7XG59KShMYW5ndWFnZVNlcnZlclBhY2thZ2VTdG9yYWdlQ29udGFpbmVycyA9IGV4cG9ydHMuTGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlU3RvcmFnZUNvbnRhaW5lcnMgfHwgKGV4cG9ydHMuTGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlU3RvcmFnZUNvbnRhaW5lcnMgPSB7fSkpO1xubGV0IFN0YWJsZUxhbmd1YWdlU2VydmVyUGFja2FnZVJlcG9zaXRvcnkgPSBjbGFzcyBTdGFibGVMYW5ndWFnZVNlcnZlclBhY2thZ2VSZXBvc2l0b3J5IGV4dGVuZHMgYXp1cmVCbG9iU3RvcmVOdWdldFJlcG9zaXRvcnlfMS5BenVyZUJsb2JTdG9yZU51Z2V0UmVwb3NpdG9yeSB7XG4gICAgY29uc3RydWN0b3Ioc2VydmljZUNvbnRhaW5lcikge1xuICAgICAgICBzdXBlcihzZXJ2aWNlQ29udGFpbmVyLCBhenVyZUJsb2JTdG9yYWdlQWNjb3VudCwgTGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlU3RvcmFnZUNvbnRhaW5lcnMuc3RhYmxlLCBleHBvcnRzLmF6dXJlQ0ROQmxvYlN0b3JhZ2VBY2NvdW50KTtcbiAgICB9XG59O1xuU3RhYmxlTGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlUmVwb3NpdG9yeSA9IF9fZGVjb3JhdGUoW1xuICAgIGludmVyc2lmeV8xLmluamVjdGFibGUoKSxcbiAgICBfX3BhcmFtKDAsIGludmVyc2lmeV8xLmluamVjdCh0eXBlc18xLklTZXJ2aWNlQ29udGFpbmVyKSlcbl0sIFN0YWJsZUxhbmd1YWdlU2VydmVyUGFja2FnZVJlcG9zaXRvcnkpO1xuZXhwb3J0cy5TdGFibGVMYW5ndWFnZVNlcnZlclBhY2thZ2VSZXBvc2l0b3J5ID0gU3RhYmxlTGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlUmVwb3NpdG9yeTtcbmxldCBCZXRhTGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlUmVwb3NpdG9yeSA9IGNsYXNzIEJldGFMYW5ndWFnZVNlcnZlclBhY2thZ2VSZXBvc2l0b3J5IGV4dGVuZHMgYXp1cmVCbG9iU3RvcmVOdWdldFJlcG9zaXRvcnlfMS5BenVyZUJsb2JTdG9yZU51Z2V0UmVwb3NpdG9yeSB7XG4gICAgY29uc3RydWN0b3Ioc2VydmljZUNvbnRhaW5lcikge1xuICAgICAgICBzdXBlcihzZXJ2aWNlQ29udGFpbmVyLCBhenVyZUJsb2JTdG9yYWdlQWNjb3VudCwgTGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlU3RvcmFnZUNvbnRhaW5lcnMuYmV0YSwgZXhwb3J0cy5henVyZUNETkJsb2JTdG9yYWdlQWNjb3VudCk7XG4gICAgfVxufTtcbkJldGFMYW5ndWFnZVNlcnZlclBhY2thZ2VSZXBvc2l0b3J5ID0gX19kZWNvcmF0ZShbXG4gICAgaW52ZXJzaWZ5XzEuaW5qZWN0YWJsZSgpLFxuICAgIF9fcGFyYW0oMCwgaW52ZXJzaWZ5XzEuaW5qZWN0KHR5cGVzXzEuSVNlcnZpY2VDb250YWluZXIpKVxuXSwgQmV0YUxhbmd1YWdlU2VydmVyUGFja2FnZVJlcG9zaXRvcnkpO1xuZXhwb3J0cy5CZXRhTGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlUmVwb3NpdG9yeSA9IEJldGFMYW5ndWFnZVNlcnZlclBhY2thZ2VSZXBvc2l0b3J5O1xubGV0IERhaWx5TGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlUmVwb3NpdG9yeSA9IGNsYXNzIERhaWx5TGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlUmVwb3NpdG9yeSBleHRlbmRzIGF6dXJlQmxvYlN0b3JlTnVnZXRSZXBvc2l0b3J5XzEuQXp1cmVCbG9iU3RvcmVOdWdldFJlcG9zaXRvcnkge1xuICAgIGNvbnN0cnVjdG9yKHNlcnZpY2VDb250YWluZXIpIHtcbiAgICAgICAgc3VwZXIoc2VydmljZUNvbnRhaW5lciwgYXp1cmVCbG9iU3RvcmFnZUFjY291bnQsIExhbmd1YWdlU2VydmVyUGFja2FnZVN0b3JhZ2VDb250YWluZXJzLmRhaWx5LCBleHBvcnRzLmF6dXJlQ0ROQmxvYlN0b3JhZ2VBY2NvdW50KTtcbiAgICB9XG59O1xuRGFpbHlMYW5ndWFnZVNlcnZlclBhY2thZ2VSZXBvc2l0b3J5ID0gX19kZWNvcmF0ZShbXG4gICAgaW52ZXJzaWZ5XzEuaW5qZWN0YWJsZSgpLFxuICAgIF9fcGFyYW0oMCwgaW52ZXJzaWZ5XzEuaW5qZWN0KHR5cGVzXzEuSVNlcnZpY2VDb250YWluZXIpKVxuXSwgRGFpbHlMYW5ndWFnZVNlcnZlclBhY2thZ2VSZXBvc2l0b3J5KTtcbmV4cG9ydHMuRGFpbHlMYW5ndWFnZVNlcnZlclBhY2thZ2VSZXBvc2l0b3J5ID0gRGFpbHlMYW5ndWFnZVNlcnZlclBhY2thZ2VSZXBvc2l0b3J5O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGFuZ3VhZ2VTZXJ2ZXJQYWNrYWdlUmVwb3NpdG9yeS5qcy5tYXAiXX0=